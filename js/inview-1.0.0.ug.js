const InView=function(i,e){e="object"==typeof e?e:{};const n=this;return n.selector=i,n.items=document.querySelectorAll(n.selector),n.observer=null,n.defaults={hidden:"inview__item--hidden",partial:"inview__item--partial",visible:"inview__item--full",steps:10,partial_threshold:.001,visible_threshold:.85,once:!1},n.options={},n.merge=function(e,t,s){s="boolean"==typeof s&&s;const o={};return Object.keys(e).forEach(i=>{i in t?!s||"object"!=typeof t[i]||"length"in t[i]?o[i]=t[i]:o[i]=n.merge(e[i],t[i]):o[i]=e[i]}),Object.keys(t).forEach(i=>{i in o||(i in e?!s||"object"!=typeof e[i]||"length"in e[i]?o[i]=e[i]:o[i]=n.merge(t[i],e[i]):o[i]=t[i])}),o},n.event_dispatch=function(e,t){try{var i=new Event(e);t.dispatchEvent(i)}catch(i){const s=document.createEvent("Event");s.initEvent(e,!0,!0),t.dispatchEvent(s)}},n.view_check_item=function(i){const e=i.target;i.intersectionRatio>=n.options.visible_threshold?e.classList.contains(n.options.visible)||(n.options.hidden.length&&n.options.hidden!==n.options.visible&&e.classList.remove(n.options.hidden),n.options.partial.length&&n.options.partial!==n.options.visible&&e.classList.remove(n.options.partial),n.options.visible.length&&(e.classList.add(n.options.visible),n.options.once&&n.observer.unobserve(e)),n.event_dispatch("inview_visible",e)):i.intersectionRatio>=n.options.partial_threshold?e.classList.contains(n.options.partial)||(n.options.hidden.length&&n.options.hidden!==n.options.partial&&e.classList.remove(n.options.hidden),n.options.partial.length&&(e.classList.add(n.options.partial),!n.options.once||n.options.visible!==n.options.partial&&n.options.visible.length||n.observer.unobserve(e)),n.options.visible.length&&n.options.visible!==n.options.partial&&e.classList.remove(n.options.visible),n.event_dispatch("inview_partial",e)):e.classList.contains(n.options.hidden)||(n.options.hidden.length&&e.classList.add(n.options.hidden),n.options.partial.length&&n.options.partial!==n.options.hidden&&e.classList.remove(n.options.partial),n.options.visible.length&&n.options.visible!==n.options.hidden&&e.classList.remove(n.options.visible),n.event_dispatch("inview_hidden",e)),e.matches(n.selector)||n.observer.unobserve(e)},n.view_check=function(i){i.forEach(n.view_check_item)},n.thresholds_get=function(){var i=1/n.options.steps,e=(""+n.options.steps).length+1;let t=0;const s=[0];for(;t<1;)t+=i,t=parseFloat(t.toFixed(e)),s.push(t);return s},n.init=function(){n.options=n.merge(n.defaults,e),n.items.length&&(n.observer=new IntersectionObserver(n.view_check,{root:null,rootMargin:"0px",threshold:n.thresholds_get()}),n.items.forEach(function(i){n.observer.observe(i)}),n.event_dispatch("inview_initialised",window))},n.fallback=function(){n.items.length&&n.items.forEach(i=>{i.classList.remove(n.options.hidden),i.classList.remove(n.options.partial),i.classList.add(n.options.visible),n.event_dispatch("inview_visible",i)})},"undefined"!=typeof IntersectionObserver?n.init():n.fallback(),n};